package controller

import (
	"eebot/bot/service"
	"errors"
	"fmt"
	"strings"
)

// AnalysisPal
//
//	rawMessageSlice[0]: pal name
func AnalysisPal(rawMessageSlice []string, isGroup bool, sourceID int64, targetID int64) (err error) {
	var prefix string
	if isGroup {
		prefix = fmt.Sprintf("[CQ:at,qq=%d] \n", sourceID)
	}
	if len(rawMessageSlice) < 1 {
		service.Reply("必须指定帕鲁名称", prefix, targetID)
		return errors.New("必须指定帕鲁名称")
	}
	suffix := ""
	cnt := 0
	for name, equals := range illustration {
		if cnt >= 10 {
			break
		}
		if strings.Contains(name, rawMessageSlice[1]) {
			for i := range equals {
				suffix += equals[i] + "\n"
				cnt += 1
			}
		} else {
			for i := range equals {
				if strings.Contains(equals[i], rawMessageSlice[1]) {
					suffix += equals[i] + "\n"
					cnt += 1
				}
			}
		}
	}
	if suffix == "" {
		suffix = fmt.Sprintf("不存在的帕鲁 %s，或尚未发现的公式", rawMessageSlice[1])
	}
	return service.Reply(suffix, prefix, targetID)
}

func init() {
	slices := strings.Split(data, "\n")
	// fmt.Printf("slices: %v\n", slices)
	for i := range slices {
		illustration[strings.Split(slices[i], "=")[1]] = append(illustration[strings.Split(slices[i], "=")[1]], slices[i])
	}
}

var illustration map[string][]string = map[string][]string{}

var data = `1.棉悠悠+棉悠悠=棉悠悠
2.棉悠悠+捣蛋猫=棉悠悠
3.棉悠悠+皮皮鸡=喵斯特
4.棉悠悠+翠叶鼠=玉藻狐
5.棉悠悠+火绒狐=翠叶鼠
6.棉悠悠+冲浪鸭=火绒狐
7.棉悠悠+伏特喵=翠叶鼠
8.棉悠悠+新叶猿=电棘鼠
9.棉悠悠+燎火鹿=姬小兔
10.棉悠悠+企丸丸=伏特喵
11.棉悠悠+企丸王=踏春兔
12.棉悠悠+电棘鼠=吊缚灵
12B.棉悠悠+冰刺鼠=吊缚灵
13.棉悠悠+叶泥泥=企丸丸
14.棉悠悠+玉藻狐=捣蛋猫
15.棉悠悠+啼卡尔=翠叶鼠
16.棉悠悠+壶小象=喵斯特
17.棉悠悠+瞅什魔=翠叶鼠
18.棉悠悠+米露菲=捣蛋猫
19.棉悠悠+寐魔=企丸丸
20.棉悠悠+草莽猪=毛掸儿
21.棉悠悠+露娜蒂=荆棘魔仙
22.棉悠悠+遁地鼠=炸蛋鸟
23.棉悠悠+勾魂鱿=瞅什魔
24.棉悠悠+喵斯特=喵斯特
24B.棉悠悠+冰丝特=米露菲
25.棉悠悠+鲁米儿=焰巫狐
26.棉悠悠+猎狼=水灵儿
27.棉悠悠+炸蛋鸟=融焰娘
28.棉悠悠+波娜兔=电棘鼠
29.棉悠悠+波霸牛=棉花糖
30.棉悠悠+荆棘魔仙=火绒狐
31.棉悠悠+鲨小子=波娜兔
31B.棉悠悠+红小鲨=勾魂鱿
32.棉悠悠+吊缚灵=玉藻狐
32B.棉悠悠+冰缚灵=玉藻狐
33.棉悠悠+叶胖达=月镰魔
33B.棉悠悠+雷胖达=灌木羊
34.棉悠悠+棉花糖=冲浪鸭
35.棉悠悠+灌木羊=雷鸣童子
36.棉悠悠+美露帕=露娜蒂
37.棉悠悠+紫霞鹿=棉花糖
37B.棉悠悠+祇岳鹿=棉花糖
38.棉悠悠+疾风隼=月镰魔
39.棉悠悠+姬小兔=啼卡尔
40.棉悠悠+炎魔羊=天擒鸟
40B.棉悠悠+暗魔羊=天擒鸟
41.棉悠悠+幻悦蝶=云海鹿
42.棉悠悠+炽焰牛=草莽猪
43.棉悠悠+趴趴鲶=露娜蒂
44.棉悠悠+黑鸦隐士=火灵儿
45.棉悠悠+朋克蜥=勾魂鱿
45B.棉悠悠+热血蜥=毛掸儿
46.棉悠悠+月镰魔=雷鸣童子
47.棉悠悠+天擒鸟=新叶猿
48.棉悠悠+羽箭射手=新叶猿
48B.棉悠悠+山岳射手=寐魔
49.棉悠悠+铁拳猿=水灵儿
50.棉悠悠+骑士蜂=火灵儿
51.棉悠悠+女王蜂=趴趴鲶
52.棉悠悠+笑魇猫=踏春兔
53.棉悠悠+毛掸儿=瞅什魔
54.棉悠悠+毛老爹=博爱蜥
55.棉悠悠+疾旋鼬=草莽猪
56.棉悠悠+雷角马=黑鸦隐士
57.棉悠悠+吹雪狐=秘斯媞雅
58.棉悠悠+火麒麟=紫霞鹿
58B.棉悠悠+邪麒麟=碎岩龟
59.棉悠悠+严冬鹿=露娜蒂
60.棉悠悠+霹雳犬=秘斯媞雅
61.棉悠悠+苍焰狼=噬魂兽
62.棉悠悠+雷鸣童子=炸蛋鸟
63.棉悠悠+秘斯媞雅=勾魂鱿
64.棉悠悠+花冠龙=噬魂兽
64B.棉悠悠+雷冠龙=草莽猪
65.棉悠悠+划水蛇=羽箭射手
65B.棉悠悠+流沙蛇=夜幕魔蝠
66.棉悠悠+噬魂兽=姬小兔
67.棉悠悠+碎岩龟=焰巫狐
68.棉悠悠+猫蝠怪=秘斯媞雅
69.棉悠悠+博爱蜥=雷鸣童子
70.棉悠悠+融焰娘=翠叶鼠
71.棉悠悠+烽歌龙=猎狼
71B.棉悠悠+霜歌龙=铁拳猿
72.棉悠悠+浪忍武士=猎狼
73.棉悠悠+迅雷鸟=碎岩龟
74.棉悠悠+烽火鸟=紫霞鹿
75.棉悠悠+暗巫猫=鲨小子
76.棉悠悠+焰巫狐=荆棘魔仙
77.棉悠悠+踏春兔=寐魔
78.棉悠悠+薇莉塔=水灵儿
79.棉悠悠+绸笠蛾=月镰魔
80.棉悠悠+精灵龙=夜幕魔蝠
81.棉悠悠+水灵儿=电棘鼠
81B.棉悠悠+火灵儿=电棘鼠
82.棉悠悠+碧海龙=云海鹿
83.棉悠悠+冰棘兽=疾旋鼬
84.棉悠悠+狱焰王=鲨小子
84B.棉悠悠+狱阎王=骑士蜂
85.棉悠悠+佩克龙=严冬鹿
85B.棉悠悠+派克龙=鲁米儿
86.棉悠悠+连理龙=焰巫狐
86B.棉悠悠+海誓龙=燎火鹿
87.棉悠悠+花丽娜=草莽猪
88.棉悠悠+熔岩兽=趴趴鲶
88B.棉悠悠+寒霜兽=碎岩龟
89.棉悠悠+君王美露帕=云海鹿
89B.棉悠悠+冰帝美露帕=月镰魔
90.棉悠悠+森猛犸=美露帕
90B.棉悠悠+雪猛犸=严冬鹿
91.棉悠悠+白绒雪怪=月镰魔
91B.棉悠悠+绿苔绒怪=云海鹿
92.棉悠悠+铠格力斯=波霸牛
93.棉悠悠+云海鹿=地道鼠
94.棉悠悠+夜幕魔蝠=叶泥泥
95.棉悠悠+天羽龙=波霸牛
96.棉悠悠+焰煌=霹雳犬
97.棉悠悠+雷冥鸟=苍焰狼
98.棉悠悠+魔渊龙=花冠龙
99.棉悠悠+冥铠蝎=连理龙
100.棉悠悠+阿努比斯=羽箭射手
101.棉悠悠+覆海龙=美露帕
101B.棉悠悠+腾炎龙=趴趴鲶
102.棉悠悠+朱雀=喷雪狐
102B.棉悠悠+清雀=猫蝠怪
103.棉悠悠+暴电熊=苍焰狼
104.棉悠悠+百合女王=连理龙
104B.棉悠悠+黑月女王=碎岩龟
105.棉悠悠+荷鲁斯=紫霞鹿
106.棉悠悠+波鲁杰克斯=疾旋鼬
1.皮皮鸡+棉悠悠=喵丝特
2.皮皮鸡+捣蛋猫=喵丝特
3.皮皮鸡+皮皮鸡=皮皮鸡
4.皮皮鸡+翠叶鼠=棉悠悠
5.皮皮鸡+火绒狐=玉藻狐
6.皮皮鸡+冲浪鸭=吊缚灵
7.皮皮鸡+伏特喵=米露菲
8.皮皮鸡+新叶猿=电棘鼠
9.皮皮鸡+燎火鹿=冲浪鸭
10.皮皮鸡+企丸丸=翠叶鼠
11.皮皮鸡+企丸王=夜幕魔蝠
12.皮皮鸡+电棘鼠=翠叶鼠
12B.皮皮鸡+冰刺鼠=冲浪鸭
13.皮皮鸡+叶泥泥=电棘鼠
14.皮皮鸡+玉藻狐=喵丝特
15.皮皮鸡+啼卡尔=玉藻狐
16.皮皮鸡+壶小象=壶小象
17.皮皮鸡+瞅什魔=翠叶鼠
18.皮皮鸡+米露菲=喵丝特
19.皮皮鸡+寐魔=电棘鼠
20.皮皮鸡+草莽猪=荆棘魔仙
21.皮皮鸡+露娜蒂=炸蛋鸟
22.皮皮鸡+遁地鼠=电棘鼠
23.皮皮鸡+勾魂鱿=火绒狐
24.皮皮鸡+喵斯特=壶小象
24B.皮皮鸡+冰丝特=棉悠悠
25.皮皮鸡+鲁米儿=棉花糖
26.皮皮鸡+猎狼=波娜兔
27.皮皮鸡+炸蛋鸟=吊缚灵
28.皮皮鸡+波娜兔=啼卡尔
29.皮皮鸡+波霸牛=雷鸣童子
30.皮皮鸡+荆棘魔仙=伏特喵
31.皮皮鸡+鲨小子=勾魂鱿
31B.皮皮鸡+红小鲨=毛掸儿
32.皮皮鸡+吊缚灵=捣蛋猫
32B.皮皮鸡+冰缚灵=捣蛋猫
33.皮皮鸡+叶胖达=月镰魔
33B.皮皮鸡+雷胖达=月镰魔
34.皮皮鸡+棉花糖=炸蛋鸟
35.皮皮鸡+灌木羊=雷鸣童子
36.皮皮鸡+美露帕=棉花糖
37.皮皮鸡+紫霞鹿=雷鸣童子
37B.皮皮鸡+祇岳鹿=雷鸣童子
38.皮皮鸡+疾风隼=月镰魔
39.皮皮鸡+姬小兔=融焰娘
40.皮皮鸡+炎魔羊=铁拳猿
40B.皮皮鸡+暗魔羊=铁拳猿
41.皮皮鸡+幻悦蝶=踏春兔
42.皮皮鸡+炽焰牛=噬魂兽
43.皮皮鸡+趴趴鲶=棉花糖
44.皮皮鸡+黑鸦隐士=勾魂鱿
45.皮皮鸡+朋克蜥=姬小兔
45B.皮皮鸡+热血蜥=荆棘魔仙
46.皮皮鸡+月镰魔=遁地鼠
47.皮皮鸡+天擒鸟=水灵儿
48.皮皮鸡+羽箭射手=水灵儿
48B.皮皮鸡+山岳射手=新叶猿
49.皮皮鸡+铁拳猿=火灵儿
50.皮皮鸡+骑士蜂=勾魂鱿
51.皮皮鸡+女皇蜂=紫霞鹿
52.皮皮鸡+笑魇猫=夜幕魔蝠
53.皮皮鸡+毛掸儿=火绒狐
54.皮皮鸡+毛老爹=月镰魔
55.皮皮鸡+疾旋鼬=噬魂兽
56.皮皮鸡+雷角马=鲨小子
57.皮皮鸡+吹雪狐=草莽猪
58.皮皮鸡+火麒麟=灌木羊
58B.皮皮鸡+邪麒麟=鲁米尔
59.皮皮鸡+严冬鹿=棉花糖
60.皮皮鸡+霹雳犬=朋克蜥
61.皮皮鸡+苍焰狼=焰巫狐
62.皮皮鸡+雷鸣童子=企丸丸
63.皮皮鸡+秘斯媞雅=毛掸儿
64.皮皮鸡+花冠龙=焰巫狐
64B.皮皮鸡+雷冠龙=燎火鹿
65.皮皮鸡+划水蛇=天擒鸟
65B.皮皮鸡+流沙蛇=天擒鸟
66.皮皮鸡+噬魂兽=荆棘魔女
67.皮皮鸡+碎岩龟=露娜蒂
68.皮皮鸡+猫蝠怪=草莽猪
69.皮皮鸡+博爱蜥=遁地鼠
70.皮皮鸡+融焰娘=米露菲
71.皮皮鸡+烽歌龙=黑鸦隐士
71B.皮皮鸡+霜歌龙=猎狼
72.皮皮鸡+浪忍武士=骑士蜂
73.皮皮鸡+迅雷鸟=连理龙
74.皮皮鸡+烽火鸟=博爱蜥
75.皮皮鸡+暗巫猫=秘斯媞雅
76.皮皮鸡+焰巫狐=冲浪鸭
77.皮皮鸡+踏春兔=新叶猿
78.皮皮鸡+薇莉塔=火灵儿
79.皮皮鸡+绸笠蛾=云海鹿
80.皮皮鸡+精灵龙=羽箭射手
80B.皮皮鸡＋水灵龙=羽箭射手
81.皮皮鸡+水灵儿=瞅什魔
81B.皮皮鸡+火灵儿=瞅什魔
82.皮皮鸡+碧海龙=夜幕魔蝠
83.皮皮鸡+冰棘兽=花冠龙
84.皮皮鸡+狱焰王=秘斯媞雅
84B.皮皮鸡+狱阎王=鲨小子
85.皮皮鸡+佩克龙=美露帕
85B.皮皮鸡+派克龙=美露帕
86.皮皮鸡+连理龙=露娜蒂
86B.皮皮鸡+海誓龙=焰巫狐
87.皮皮鸡+花丽娜=草莽猪
88.皮皮鸡+熔岩兽=波霸牛
88B.皮皮鸡+寒霜兽=连理龙
89.皮皮鸡+君王美露帕=云海鹿
89B.皮皮鸡+冰帝美露帕=云海鹿
90.皮皮鸡+森猛犸=趴趴鲶
90B.皮皮鸡+雪猛犸=趴趴鲶
91.皮皮鸡+白绒雪怪=云海鹿
91B.皮皮鸡+绿苔绒怪=踏春兔
92.皮皮鸡+铠格力斯=紫霞鹿
93.皮皮鸡+云海鹿=叶泥泥
94.皮皮鸡+夜幕魔蝠=水灵儿
95.皮皮鸡+天羽龙=紫霞鹿
96.皮皮鸡+焰煌=猫蝠怪
97.皮皮鸡+雷冥鸟=碎岩龟
98.皮皮鸡+魔渊龙=苍焰狼
99.皮皮鸡+冥铠蝎=严冬鹿
100.皮皮鸡+阿努比斯=天擒鸟
101.皮皮鸡+覆海龙=波霸牛
101B.皮皮鸡+腾炎龙=波霸牛
102.皮皮鸡+朱雀=花丽娜
102B.皮皮鸡+清雀=吹雪狐
103.皮皮鸡+暴电熊=碎岩龟
104.皮皮鸡+百合女王=严冬鹿
104B.皮皮鸡+黑月女王=碎岩龟
105.皮皮鸡+荷鲁斯=灌木羊
106.皮皮鸡+波鲁杰克斯=花冠龙
107.皮皮鸡+异构格里芬=花丽娜
108.皮皮鸡+圣光骑士=炽焰牛
109.皮皮鸡+混沌骑士=炽焰牛
110.皮皮鸡+唤冬兽=花冠龙
110B.皮皮鸡+唤夜兽=疾旋鼬
111.皮皮鸡+空涡龙=炽焰牛
81.捣蛋猫+水灵儿=电棘鼠
81B.捣蛋猫+火灵儿=电棘鼠
82.捣蛋猫+碧海龙=云海鹿
83.捣蛋猫+冰棘兽=炽焰牛
84.捣蛋猫+狱焰王=鲨小子
84B.捣蛋猫+狱阎王=猎狼
85.捣蛋猫+佩克龙=鲁米儿
85B.捣蛋猫+派克龙=连理龙
86.捣蛋猫+连理龙=焰巫狐
86B.捣蛋猫+海誓龙=噬魂兽
87.捣蛋猫+花丽娜=朋克蜥
88.捣蛋猫+熔岩兽=美露帕
88B.捣蛋猫+寒霜兽=碎岩龟
89.捣蛋猫+君王美露帕=月镰魔
89B.捣蛋猫+冰帝美露帕=月镰魔
90.捣蛋猫+森猛犸=严冬鹿
90B.捣蛋猫+雪猛犸=严冬鹿
91.捣蛋猫+白绒雪怪=月镰魔
91B.捣蛋猫+绿苔绒怪=云海鹿
92.捣蛋猫+铠格力斯=趴趴鲶
93.捣蛋猫+云海鹿=遁地鼠
94.捣蛋猫+夜幕魔蝠=寐魔
95.捣蛋猫+天羽龙=波霸牛
96.捣蛋猫+焰煌=霹雳犬
97.捣蛋猫+雷冥鸟=苍焰狼
98.捣蛋猫+魔渊龙=疾旋鼬
99.捣蛋猫+冥铠蝎=连理龙
100.捣蛋猫+阿努比斯=羽箭射手
101.捣蛋猫+覆海龙=美露帕
101B.捣蛋猫+腾炎龙=美露帕
102.捣蛋猫+朱雀=猫怪蝠
102B.捣蛋猫+清雀=猫怪蝠
103.捣蛋猫+暴电熊=苍焰狼
104.捣蛋猫+百合女王=碎岩龟
104B.捣蛋猫+黑月女王=苍焰狼
105.捣蛋猫+荷鲁斯=紫霞鹿
106.捣蛋猫+波鲁杰克斯=疾旋鼬
107.捣蛋猫+异构格里芬=吹雪狐
108.捣蛋猫+圣光骑士=吹雪狐
109.捣蛋猫+混沌骑士=吹雪狐
110.捣蛋猫+唤冬兽=炽焰牛
110B.捣蛋猫+唤夜兽=花丽娜
111.捣蛋猫+空涡龙=花丽娜
1.捣蛋猫+棉悠悠=棉悠悠
2.捣蛋猫+捣蛋猫=捣蛋猫
3.捣蛋猫+皮皮鸡=喵丝特
4.捣蛋猫+翠叶鼠=玉藻狐
5.捣蛋猫+火绒狐=翠叶鼠
6.捣蛋猫+冲浪鸭=火绒狐
7.捣蛋猫+伏特喵=翠叶鼠
8.捣蛋猫+新叶猿=企丸丸
9.捣蛋猫+燎火鹿=姬小兔
10.捣蛋猫+企丸丸=融焰娘
11.捣蛋猫+企丸王=踏春兔
12.捣蛋猫+电棘鼠=吊缚灵
12B.捣蛋猫+冰刺鼠=伏特喵
13.捣蛋猫+叶泥泥=企丸丸
14.捣蛋猫+玉藻狐=米露菲
15.捣蛋猫+啼卡尔=翠叶鼠
16.捣蛋猫+壶小象=喵丝特
17.捣蛋猫+瞅什魔=吊缚灵
18.捣蛋猫+米露菲=捣蛋猫
19.捣蛋猫+寐魔=炸蛋鸟
20.捣蛋猫+草莽猪=勾魂鱿
21.捣蛋猫+露娜蒂=荆棘魔仙
22.捣蛋猫+遁地鼠=炸蛋鸟
23.捣蛋猫+勾魂鱿=电棘鼠
24.捣蛋猫+喵斯特=棉悠悠
24B.捣蛋猫+冰丝特=玉藻狐
25.捣蛋猫+鲁米儿=焰巫狐
26.捣蛋猫+猎狼=水灵儿
27.捣蛋猫+炸蛋鸟=火绒狐
28.捣蛋猫+波娜兔=电棘鼠
29.捣蛋猫+波霸牛=棉花糖
30.捣蛋猫+荆棘魔仙=啼卡尔
31.捣蛋猫+鲨小子=火灵儿
31B.捣蛋猫+红小鲨=波娜兔
32.捣蛋猫+吊缚灵=翠叶鼠
32B.捣蛋猫+冰缚灵=玉藻狐
33.捣蛋猫+叶胖达=月镰魔
33B.捣蛋猫+雷胖达=紫霞鹿
34.捣蛋猫+棉花糖=荆棘魔仙
35.捣蛋猫+灌木羊=棉花糖
36.捣蛋猫+美露帕=露娜蒂
37.捣蛋猫+紫霞鹿=棉花糖
37B.捣蛋猫+祇岳鹿=露娜蒂
38.捣蛋猫+疾风隼=博爱蜥
39.捣蛋猫+姬小兔=瞅什魔
40.捣蛋猫+炎魔羊=天擒鸟
40B.捣蛋猫+暗魔羊=羽箭射手
41.捣蛋猫+幻悦蝶=云海鹿
42.捣蛋猫+炽焰牛=草莽猪
43.捣蛋猫+趴趴鲶=露娜蒂
44.捣蛋猫+黑鸦隐士=火灵儿
45.捣蛋猫+朋克蜥=勾魂鱿
45B.捣蛋猫+热血蜥=毛掸儿
46.捣蛋猫+月镰魔=雷鸣童子
47.捣蛋猫+天擒鸟=新叶猿
48.捣蛋猫+羽箭射手=叶泥泥
48B.捣蛋猫+山岳射手=寐魔
49.捣蛋猫+铁拳猿=新叶猿
50.捣蛋猫+骑士蜂=水灵儿
51.捣蛋猫+女王蜂=趴趴鲶
52.捣蛋猫+笑魇猫=云海鹿
53.捣蛋猫+毛掸儿=瞅什魔
54.捣蛋猫+毛老爹=灌木羊
55.捣蛋猫+疾旋鼬=草莽猪
56.捣蛋猫+雷角马=骑士蜂
57.捣蛋猫+吹雪狐=秘斯媞雅
58.捣蛋猫+火麒麟=波霸牛
58B.捣蛋猫+邪麒麟=碎岩龟
59.捣蛋猫+严冬鹿=焰巫狐
60.捣蛋猫+霹雳犬=秘斯媞雅
61.捣蛋猫+苍焰狼=噬魂兽
62.捣蛋猫+雷鸣童子=炸蛋鸟
63.捣蛋猫+秘斯媞雅=勾魂鱿
64.捣蛋猫+花冠龙=草莽猪
64B.捣蛋猫+雷冠龙=草莽猪
65.捣蛋猫+划水蛇=夜幕魔蝠
65B.捣蛋猫+流沙蛇=夜幕魔蝠
66.捣蛋猫+噬魂兽=毛掸儿
67.捣蛋猫+碎岩龟=燎火鹿
68.捣蛋猫+猫蝠怪=秘斯媞雅
69.捣蛋猫+博爱蜥=雷鸣童子
70.捣蛋猫+融焰娘=翠叶鼠
71.捣蛋猫+烽歌龙=猎狼
71B.捣蛋猫+霜歌龙=铁拳猿
72.捣蛋猫+浪忍武士=薇莉塔
73.捣蛋猫+迅雷鸟=碎岩龟
74.捣蛋猫+烽火鸟=紫霞鹿
75.捣蛋猫+暗巫猫=黑鸦隐士
76.捣蛋猫+焰巫狐=姬小兔
77.捣蛋猫+踏春兔=遁地鼠
78.捣蛋猫+薇莉塔=水灵儿
79.捣蛋猫+绸笠蛾=月镰魔
80.捣蛋猫+精灵龙=夜幕魔蝠`
